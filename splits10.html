<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <title>Groep 3 ‚Äì splitsingen tot 10</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      background: #f4f4ff;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
    }

    .container {
      background: white;
      padding: 2rem 2.5rem;
      border-radius: 1.5rem;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      max-width: 560px;
      width: 95%;
      text-align: center;
    }

    .back {
      font-size: .85rem;
      margin-bottom: 1rem;
      text-align: left;
    }
    .back a { color: #4f46e5; text-decoration: none; }

    h1 { margin: 0 0 .3rem; font-size: 1.8rem; }
    .subtitle { color: #555; margin: 0 0 1.2rem; font-size: .95rem; }

    .stats {
      display: flex;
      justify-content: space-between;
      gap: .75rem;
      flex-wrap: wrap;
      margin-bottom: 1.2rem;
      font-size: 1rem;
    }

    /* --- Splits-huisje --- */
    .split-wrap {
      display: grid;
      place-items: center;
      margin: 1.2rem 0 1rem;
    }

    .split-house {
      position: relative;
      width: 260px;
      height: 190px;
    }

    .box {
      width: 72px;
      height: 72px;
      border: 3px solid #222;
      border-radius: 10px;
      background: #fff;
      display: grid;
      place-items: center;
      font-size: 2.1rem;
      font-weight: 750;
      line-height: 1;
      box-shadow: 0 6px 14px rgba(0,0,0,0.06);
      user-select: none;
    }

    .topBox {
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
    }

    .bottomLeft {
      position: absolute;
      bottom: 0;
      left: 20px;
    }

    .bottomRight {
      position: absolute;
      bottom: 0;
      right: 20px;
    }

    /* Input box (rechter ondervakje) */
    input.boxInput {
      width: 72px;
      height: 72px;
      border: 3px solid #222;
      border-radius: 10px;
      background: #fff;
      font-size: 2.1rem;
      font-weight: 750;
      text-align: center;
      outline: none;
      box-shadow: 0 6px 14px rgba(0,0,0,0.06);
    }

    input.boxInput:focus {
      border-color: #4f46e5;
      box-shadow: 0 0 0 4px rgba(79,70,229,0.15), 0 6px 14px rgba(0,0,0,0.06);
    }

    /* SVG lijnen */
    .split-lines {
      position: absolute;
      inset: 0;
      pointer-events: none;
    }

    .hint {
      color: #666;
      font-size: .95rem;
      margin-bottom: .2rem;
    }

    button.main-btn {
      margin-top: 1.2rem;
      padding: .75rem 1.5rem;
      font-size: 1rem;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      background: #4f46e5;
      color: white;
      font-weight: 700;
    }
    button.main-btn:disabled { background: #bbb; cursor: default; }

    .feedback {
      height: 1.4rem;
      margin-top: .6rem;
      font-weight: 800;
      font-size: 1.05rem;
    }
    .feedback.correct { color: #16a34a; }
    .feedback.wrong { color: #dc2626; }

    .result { margin-top: 1rem; font-size: 1rem; }

    @media (max-width: 360px) {
      .split-house { width: 230px; }
      .bottomLeft { left: 10px; }
      .bottomRight { right: 10px; }
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="back"><a href="index.html">‚Üê Terug naar menu</a></div>

    <h1>Splitsingen tot 10</h1>
    <p class="subtitle">Vul het ontbrekende getal in. Typ het antwoord en druk op Enter.</p>

    <div class="stats">
      <div>‚è± Tijd: <span id="time">2:00</span></div>
      <div>‚úÖ Goed: <span id="score">0</span></div>
      <div>üìä Pogingen: <span id="attempts">0</span></div>
    </div>

    <div class="split-wrap">
      <div class="split-house">
        <!-- lijnen -->
        <svg class="split-lines" viewBox="0 0 260 190" preserveAspectRatio="none">
          <!-- van onderkant topbox naar midden van linkervak -->
          <line x1="130" y1="78" x2="56" y2="150" stroke="#222" stroke-width="4" stroke-linecap="round"/>
          <!-- van onderkant topbox naar midden van rechtervak -->
          <line x1="130" y1="78" x2="204" y2="150" stroke="#222" stroke-width="4" stroke-linecap="round"/>
        </svg>

        <div class="box topBox" id="totalBox">10</div>
        <div class="box bottomLeft" id="givenBox">3</div>
        <div class="bottomRight">
          <input class="boxInput" type="number" id="answer" placeholder="?" disabled inputmode="numeric" />
        </div>
      </div>
    </div>


    <div id="feedback" class="feedback"></div>
    <button id="startBtn" class="main-btn">Start 2-minutentest</button>
    <div id="result" class="result"></div>
  </div>

  <script>
    const timeEl = document.getElementById("time");
    const scoreEl = document.getElementById("score");
    const attemptsEl = document.getElementById("attempts");
    const totalBox = document.getElementById("totalBox");
    const givenBox = document.getElementById("givenBox");
    const answerEl = document.getElementById("answer");
    const feedbackEl = document.getElementById("feedback");
    const startBtn = document.getElementById("startBtn");
    const resultEl = document.getElementById("result");

    let timeLeft = 120;
    let timerId = null;
    let score = 0;
    let attempts = 0;
    let active = false;

    let total = 10;
    let given = 0;
    let correct = 0;

    function fmt(t) {
      const m = Math.floor(t / 60);
      const s = t % 60;
      return m + ":" + (s < 10 ? "0" + s : s);
    }

    function r(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    // Splitsingen tot 10 (totaal tussen 2 en 10)
    function newSplit() {
      total = r(2, 10);
      given = r(0, total);     // 0 mag ook (handig voor begrip)
      correct = total - given;

      totalBox.textContent = total;
      givenBox.textContent = given;

      answerEl.value = "";
      answerEl.focus();
    }

    function startTimer() {
      timeLeft = 120;
      timeEl.textContent = fmt(timeLeft);
      timerId = setInterval(() => {
        timeLeft--;
        timeEl.textContent = fmt(timeLeft);
        if (timeLeft <= 0) endGame();
      }, 1000);
    }

    function startGame() {
      if (active) return;
      active = true;

      score = 0;
      attempts = 0;
      scoreEl.textContent = score;
      attemptsEl.textContent = attempts;
      feedbackEl.textContent = "";
      feedbackEl.className = "feedback";
      resultEl.textContent = "";

      answerEl.disabled = false;
      startBtn.disabled = true;

      newSplit();
      startTimer();
    }

    function endGame() {
      if (!active) return;
      active = false;

      clearInterval(timerId);
      answerEl.disabled = true;
      startBtn.disabled = false;

      const pct = Math.round((score / attempts) * 100) || 0;
      resultEl.textContent = `Je had ${score} goed van ${attempts} pogingen. (${pct}%)`;
    }

    function checkAnswer() {
      if (!active) return;
      const val = parseInt(answerEl.value, 10);
      if (Number.isNaN(val)) return;

      attempts++;
      attemptsEl.textContent = attempts;

      if (val === correct) {
        score++;
        scoreEl.textContent = score;
        feedbackEl.textContent = "Goed!";
        feedbackEl.className = "feedback correct";
      } else {
        feedbackEl.textContent = `Helaas, het was ${correct}.`;
        feedbackEl.className = "feedback wrong";
      }

      newSplit();
    }

    answerEl.addEventListener("keydown", (e) => {
      if (e.key === "Enter") checkAnswer();
    });

    startBtn.addEventListener("click", startGame);
  </script>
</body>
</html>
